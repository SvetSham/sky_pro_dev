# Виджет личного кабинета клиента банка
## Описание
Виджет предоставляет клиенту банка возможность выполнения таких операций, как отображение нескольких последних успешных банковских операций клиента и другие. Используется обязательная маскировка номера карты или счёта, определяется, какие транзакции проведены, какие отклонены, может быть выполнена сортировка транзакций по дате выполнения.
При использовании виджета необходимо учесть, что номер карты должен содержать 16 цифр, а номер счета - 20 цифр.
## Требования к окружению
Проект создан на ```Python 3.13.0```.
## Установка проекта
- Склонировать репозиторий: ```git@github.com:SvetSham/sky_pro_dev.git```
- Перейти в директорию проекта: ```cd sky_pro_dev```
- Создать и активировать виртуальное окружение:
```python -m venv venv```
```venv\Scripts\activate```
## Установка зависимостей
```pip install -r requirements.txt``` (в данной версии не активно)
## Как запустить проект
```python src/main.py```
## Использование функций
### Модуль masks.py, функция get_mask_card_number
Функция получает на вход номер карты как аргумент в виде целого числа.
На выходе возвращает строковое представление номера карты с замаскированными цифрами. С 7 по 12 цифры скрыты благодаря звёздочкам.
Цифры сгруппированы по 4, группы разделены пробелом.

Пример использования функции:

Вызов:
```print(get_mask_card_number(1596837868705199))```

Результат:
```1596 83** **** 5199```

### Модуль masks.py, функция get_mask_account
Функция получает на вход номер счёта как аргумент в виде целого числа.
На выходе возвращает строковое представление номера счёта в виде последних шести цифр, причем из них первые две цифры скрыты благодаря звёздочкам.

Пример использования функции:

Вызов:
```print(get_mask_account(64686473678894779589))```

Результат:
```**9589```

### Модуль widget.py, функция mask_account_card
Функция возвращает маску для номера карты или счёта. На вход подаётся строка с названием карты или счёта и номером.
На выходе функция выдаёт название карты или счёта и замаскированный номер.

Примеры использования функции:

Вызов:
```print(mask_account_card("Visa Classic 6831982476737658"))```

Результат:
```Visa Classic 6831 98** **** 7658```


Вызов:
```print(mask_account_card("Счет 64686473678894779589"))```

Результат:
```Счет **9589```

### Модуль widget.py, функция get_date
Функция преобразует дату из формата ```'2024-03-11T02:26:18.671407'``` в формат ```'ДД.ММ.ГГГГ'```

Пример использования функции:

Вызов:
```print(get_date("2024-03-11T02:26:18.671407"))```

Результат:
```11.03.2024```

### Модуль processing.py, функция filter_by_state
На вход функции подаётся список словарей, содержащих информацию о транзакциях, в том числе состояние - EXECUTED (выполненный) и CANCELED (отменённый).
Вторым параметром передаётся интересующее пользователя состояние (по умолчанию EXECUTED).
Функция фильтрует транзакции по выбранному состоянию и возвращает отфильтрованный список словарей.

Пример использования функции:

```transactions = [```
   
```{"id": 41428829, "state": "EXECUTED", "date": "2019-07-03T18:35:29.512364"},```
    
```{"id": 939719570, "state": "EXECUTED", "date": "2018-06-30T02:08:58.425572"},```
    
```{"id": 594226727, "state": "CANCELED", "date": "2018-09-12T21:27:25.241689"},```
    
```{"id": 615064591, "state": "CANCELED", "date": "2018-10-14T08:21:33.419441"},```

```]```

Вызов:
```print(filter_by_state(transactions))```

Результат:
```[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, ```
```{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]```

Вызов:
```print(filter_by_state(transactions, "CANCELED"))```

Результат:
```[{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, ```
```{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}]```

### Модуль processing.py, функция sort_by_date
Функция сортирует транзакции по дате по убыванию или по возрастанию. По умолчанию установлена сортировка по убыванию (т. е. сначала самые последние операции).

Пример использования функции (значение transactions смотри выше):

Вызов:
```print(processing.sort_by_date(transactions))```

Результат:

```[{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}, ```

```{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, ```

```{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, ```

```{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}]```

Вызов:
```print(processing.sort_by_date(transactions, False))```

Результат:

```[{'id': 939719570, 'state': 'EXECUTED', 'date': '2018-06-30T02:08:58.425572'}, ```

```{'id': 594226727, 'state': 'CANCELED', 'date': '2018-09-12T21:27:25.241689'}, ```

```{'id': 615064591, 'state': 'CANCELED', 'date': '2018-10-14T08:21:33.419441'}, ```

```{'id': 41428829, 'state': 'EXECUTED', 'date': '2019-07-03T18:35:29.512364'}]```
